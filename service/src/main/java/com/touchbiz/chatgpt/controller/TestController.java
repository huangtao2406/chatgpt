package com.touchbiz.chatgpt.controller;

import com.github.plexpt.chatgpt.Chatbot;
import com.touchbiz.chatgpt.dto.Result;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;
import reactor.core.publisher.Mono;

import java.util.Map;

/**
 * <p>
 * 用户表 前端控制器
 * </p>
 *
 * @Author scott
 * @since 2018-12-20
 */
@Slf4j
@RestController
@RequestMapping("/api/v1/chatgpt/test")
public class TestController {

    @GetMapping("")
    public Mono<Result> test(){
        Chatbot chatbot = new Chatbot("eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..8Zdesv9t7TrrAH5Q.paWlfQiHRH0T6k-RSJEEKyxeZKWpDya3djY9g1r8C5V7G6hNwe2LeR-Va1q0R445byOPgsIT1QM-DSnQZVzxAnylCxqdtDPcf_89vmM9FUBs4YCrOoAOP4xEu6NZF3mP4LZeRGKSVKIZYCVI4iv8HdLK_mycShB5KA0f7F-9Gnj45SDI2UgCigbegpE-iWn5oLjrBiWXqBWMxhogt-04He2stcvgS429LolBI17Tezsyz5d2aGb-o2VRIJOH4BHbT-gDRjWB64B1aHrZ1PZ6NqAUoMqd8OdYZMRvEkzPUdNYIssobODK59dvvrulUmBDgSvSetpdsOKgtAfIc5eE5lmP73SmvH5KmOwBUNfm91l7OaeZ-Htm1R51s3ZCraCSPMIcrnlV3hYIhvx4rGiXPPOF8kOpcjk-N5N-7l502kNlpXA167qDyTy7v-tmwUzjQvx9-Z5-LKljN_8ScBg1UuynfhhOdBRcW0ovC-nbTobgL4ZTVR2IQIHVw3DrbdFh2Ufaykn5t4wyhJb_smaqtI7mN71872yVWrNJ29PoKnf_J3cKEIEqR1MsoGbZF6_NCrSqCCGU3Ta7lcIxfMmf9dBub_VwJLbDqc-xplEAdM_v6EQvg8hx2Nq7oYV9u_ozZeZg5rUKIlUEvnZT3UjMbxlNNgO22AhoqjcaqyqAPvuA2b_MQOX1tMPPYrWAAda_WLrzojL-zNWpUIm38f99SZQObRGybQX8OhgYApzFjHFi9T1_zaBhMP_aK1-aM8iFxqfTGkxRoyjbqNxyIDMok0MycvG05Bu2UYoMhRjORKnB_AG0Me7rgYzkcB4y5al-lwi4nw30_GXl1D8ixVJDRJq7juVj_Ylkkf8ZRy3AuF79qYnX9GyTuZza6xHOV1Nde4J2kILek3YhdPDfTvG_OYvZMsGyYWf_Ukt_52oKn2SQmqHeGqfjbb25ru2SHwEh9ZywJAsHEdTMaMbQWVwB1Men8Ipjpw4x_r7Ga1PQB2-Jc4nv1nvMow6iPjZ6sZgiZG1dEa89G1caLjfSY_suXgo6FfsQK7_4L_iia-_cDcWJsdpqmO9hNRCeNaFy0NMdVWLGFSGFQNNOAcisUjgELV7LW57XtqwVaPfmLj_4cUWTvpmOP1PDlp3r95rCcoKlCQ1qPbehBs4dCe5JWgiRIF-GPGarYudIPwLQAzot-EXXSLo9xeCd1hDDMoVEJV-3uCPEwYLtmV6XvVzYnjgRsCaazfGDNLPpUT4_dMcf660gIoJBQQoo1NmuWdWCKAAl2TzjeyJeCMNTinZzCcVh2HLOffapJkTMDzyFE2sMnKHnZTNorwCmAtxBNTGbMTkW-eTvsCRpAyfFomNuon9dMTAIHIJjRpiO9trsT1osnkDCdAH6Aj_xv52fgSQAqjv5j1JJ8RUx8v4w7OJayAizk6VO55wUv9BsC6S60yDMpZIMEaHUzWFFZOD-_hXq9_PPftUMeMjZlS34DgkkByS3m9TPML6kki2d0kbiAonMNx7p8tXvyGwmHkoTsGpRt62DQ1g-Figs_pcAYHqh3KV0jN8ZJnwdFNnFL-BN_-JLEaPtZCi78vXCOWDzjXndY7FhUQqWcKnQYDUQLroqsr998t0xkDXMpXVTFLCvFK-0bzHf16VybXlGkEAnQ3rAyaHX22KSruqm2QSwjzUHkOdSvBYEGSBCAf2djUnQ3aBIatn6QUmF6wseVBevO9-GHtr_gedWfjQ1qtiIhdq0Uz5eEJhLKjY_NCKM230EtLcvIjqXQ6X1s8ztw1VW9AlW_YhNmyxnoltSLBXgXHwogZBaX4KxOw6r_JTKFweKUd_NkqAxkybPH7c_bQAwHPGGE5YwkOWhtwrBf10lWG7jupyYkEaQjinUntGPVO_10nOy8ZsEtLM-JZ3tKkI8PjvhDwwP-Q7MZ5wKZeELIZ5KR32M1RGtKbNemRtUe0dOqrJ24XHNSaVrqmpXuUklbJTf8qSTHrYTJdoqIx9gO0qiHoRlREzgF7l-3jals_ebCShizc_F2sZRXMFsDggBzSdDKO0RET8bV_nZAsg3X2qydKSX3EFjYcZWvmm3Lms63RKXtNgVwPnLDzNa4gwVkdSIpSoUdSFLjNRJggutAv4WeLvPlzIdUM1MJyTKySA6xiJMUzfUziX_LlyV1O3j2sXoefA_fdm51LnQ2N268QaLExD4mVxxuebC1gpaRQH5D6eena_oRVnAYb4KE2cuppvduA9cEsWzpbps794dJkuaCP7tpBcEbR2lOQundcrRdP2CGPnp1v3DTdUBFUuWEwiIM4mu1SPdxB1jZz5TWo3J0YakRO0lYKQ_HOQuEDnJ9Opg8XGcpLTpUimf1ju3-CMMn-s6ajEirUSdcT4fcgeDOwS07b_PoohHria-JKM8iWwVx6QZnWULV3aPW8VPM-bhtbC-BDkFUSBiQa3L_06KC5FHCcdiF6ULXbiJevgQpIJzL2iP3-nYwR7dNlQRjQBi7YW8rbs0A8tp1rZOjtKuMH7LJN4oFSQHJ52CYvOtvHHQm4w3lwHhv5RGtwnG5UZzjvczfZ0tJkuBIDCpmqKwigSfiu8x7AIdSIBL_wDmya2WDEpBdMzMV2HDaO7k2GVHyivK4OgUj4qk4Mm67UnW5YqRG-1et9XFFay8MAV13KbHSwFufCAOYMdA.52AzLD9LIbxgM5YsuqSO_A",
                "yjUN0ukZodRET2sWC3yFDslXOyDq2HiN0eCk2ntSQDo-1676168133-0-1-326c0e09.25275f75.656d51e9-160",
                "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36");
        Map<String, Object> chatResponse = chatbot.getChatResponse("hello");

        return Mono.just(Result.ok(chatResponse.get("message")));
    }


}
